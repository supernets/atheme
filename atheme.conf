loadmodule "/usr/local/modules/security/cmdperm";
loadmodule "/usr/local/modules/protocol/inspircd";
# loadmodule "/usr/local/modules/protocol/mixin_nohalfops";
# loadmodule "/usr/local/modules/protocol/mixin_noholdnick";
# loadmodule "/usr/local/modules/protocol/mixin_noprotect";
# loadmodule "/usr/local/modules/protocol/mixin_noowner";
loadmodule "/usr/local/modules/backend/opensex";
# loadmodule "/usr/local/modules/crypto/argon2";            
loadmodule "/usr/local/modules/crypto/scrypt";            
# loadmodule "/usr/local/modules/crypto/pbkdf2v2";
loadmodule "/usr/local/modules/crypto/bcrypt";            
# loadmodule "/usr/local/modules/crypto/pbkdf2";             
# loadmodule "/usr/local/modules/crypto/crypt3-sha2-512";   
# loadmodule "/usr/local/modules/crypto/crypt3-sha2-256";   
# loadmodule "/usr/local/modules/crypto/crypt3-md5";        
loadmodule "/usr/local/modules/crypto/rawsha2-512";       
loadmodule "/usr/local/modules/crypto/rawsha2-256";       
loadmodule "/usr/local/modules/crypto/anope-enc-sha256";  
loadmodule "/usr/local/modules/crypto/rawsha1";           
loadmodule "/usr/local/modules/crypto/rawmd5";            
loadmodule "/usr/local/modules/crypto/ircservices";       
# loadmodule "/usr/local/modules/crypto/crypt3-des";        
loadmodule "/usr/local/modules/crypto/base64";            
#loadmodule "/usr/local/modules/auth/ldap";
loadmodule "/usr/local/modules/nickserv/main";
loadmodule "/usr/local/modules/nickserv/access";
loadmodule "/usr/local/modules/nickserv/badmail";
loadmodule "/usr/local/modules/nickserv/cert";
loadmodule "/usr/local/modules/nickserv/drop";
loadmodule "/usr/local/modules/nickserv/enforce";
loadmodule "/usr/local/modules/nickserv/ghost";
loadmodule "/usr/local/modules/nickserv/group";
loadmodule "/usr/local/modules/nickserv/help";
loadmodule "/usr/local/modules/nickserv/hold";
loadmodule "/usr/local/modules/nickserv/identify";
loadmodule "/usr/local/modules/nickserv/info";
loadmodule "/usr/local/modules/nickserv/info_lastquit";
loadmodule "/usr/local/modules/nickserv/list";
loadmodule "/usr/local/modules/nickserv/listlogins";
loadmodule "/usr/local/modules/nickserv/listmail";
loadmodule "/usr/local/modules/nickserv/listownmail";
loadmodule "/usr/local/modules/nickserv/login";
loadmodule "/usr/local/modules/nickserv/loginnolimit";
loadmodule "/usr/local/modules/nickserv/logout";
loadmodule "/usr/local/modules/nickserv/mark";
loadmodule "/usr/local/modules/nickserv/pwquality";
loadmodule "/usr/local/modules/nickserv/freeze";
loadmodule "/usr/local/modules/nickserv/listchans";
loadmodule "/usr/local/modules/nickserv/listgroups";
loadmodule "/usr/local/modules/nickserv/register";
loadmodule "/usr/local/modules/nickserv/regnolimit";
loadmodule "/usr/local/modules/nickserv/resetpass";
loadmodule "/usr/local/modules/nickserv/restrict";
loadmodule "/usr/local/modules/nickserv/return";
loadmodule "/usr/local/modules/nickserv/setpass";
loadmodule "/usr/local/modules/nickserv/sendpass";
# loadmodule "/usr/local/modules/nickserv/sendpass_user";
loadmodule "/usr/local/modules/nickserv/set_accountname";
loadmodule "/usr/local/modules/nickserv/set_badpasswdmsg";
loadmodule "/usr/local/modules/nickserv/set_email";
loadmodule "/usr/local/modules/nickserv/set_emailmemos";
loadmodule "/usr/local/modules/nickserv/set_enforcetime";
loadmodule "/usr/local/modules/nickserv/set_hidemail";
# loadmodule "/usr/local/modules/nickserv/set_language";
loadmodule "/usr/local/modules/nickserv/set_nevergroup";
loadmodule "/usr/local/modules/nickserv/set_neverop";
loadmodule "/usr/local/modules/nickserv/set_nogreet";
loadmodule "/usr/local/modules/nickserv/set_nomemo";
loadmodule "/usr/local/modules/nickserv/set_noop";
loadmodule "/usr/local/modules/nickserv/set_nopassword";
loadmodule "/usr/local/modules/nickserv/set_password";
loadmodule "/usr/local/modules/nickserv/set_privmsg";
loadmodule "/usr/local/modules/nickserv/set_private";
loadmodule "/usr/local/modules/nickserv/set_property";
loadmodule "/usr/local/modules/nickserv/set_pubkey";
loadmodule "/usr/local/modules/nickserv/set_quietchg";
loadmodule "/usr/local/modules/nickserv/status";
loadmodule "/usr/local/modules/nickserv/taxonomy";
loadmodule "/usr/local/modules/nickserv/vacation";
loadmodule "/usr/local/modules/nickserv/verify";
loadmodule "/usr/local/modules/nickserv/vhost";
loadmodule "/usr/local/modules/nickserv/waitreg";
loadmodule "/usr/local/modules/chanserv/main";
loadmodule "/usr/local/modules/chanserv/access";
loadmodule "/usr/local/modules/chanserv/akick";
loadmodule "/usr/local/modules/chanserv/ban";
# loadmodule "/usr/local/modules/chanserv/unban_self";
loadmodule "/usr/local/modules/chanserv/bansearch";
loadmodule "/usr/local/modules/chanserv/clone";
loadmodule "/usr/local/modules/chanserv/close";
loadmodule "/usr/local/modules/chanserv/clear";
loadmodule "/usr/local/modules/chanserv/clear_akicks";
loadmodule "/usr/local/modules/chanserv/clear_bans";
loadmodule "/usr/local/modules/chanserv/clear_flags";
loadmodule "/usr/local/modules/chanserv/clear_users";
loadmodule "/usr/local/modules/chanserv/count";
loadmodule "/usr/local/modules/chanserv/drop";
loadmodule "/usr/local/modules/chanserv/fflags";
loadmodule "/usr/local/modules/chanserv/flags";
loadmodule "/usr/local/modules/chanserv/ftransfer";
loadmodule "/usr/local/modules/chanserv/getkey";
loadmodule "/usr/local/modules/chanserv/halfop";
loadmodule "/usr/local/modules/chanserv/help";
loadmodule "/usr/local/modules/chanserv/hold";
loadmodule "/usr/local/modules/chanserv/info";
loadmodule "/usr/local/modules/chanserv/invite";
loadmodule "/usr/local/modules/chanserv/kick";
loadmodule "/usr/local/modules/chanserv/list";
loadmodule "/usr/local/modules/chanserv/mark";
loadmodule "/usr/local/modules/chanserv/moderate";
loadmodule "/usr/local/modules/chanserv/op";
loadmodule "/usr/local/modules/chanserv/owner";
loadmodule "/usr/local/modules/chanserv/protect";
loadmodule "/usr/local/modules/chanserv/quiet";
loadmodule "/usr/local/modules/chanserv/recover";
loadmodule "/usr/local/modules/chanserv/register";
loadmodule "/usr/local/modules/chanserv/set_email";
loadmodule "/usr/local/modules/chanserv/set_entrymsg";
loadmodule "/usr/local/modules/chanserv/set_fantasy";
loadmodule "/usr/local/modules/chanserv/set_gameserv";
loadmodule "/usr/local/modules/chanserv/set_guard";
loadmodule "/usr/local/modules/chanserv/set_keeptopic";
loadmodule "/usr/local/modules/chanserv/set_limitflags";
loadmodule "/usr/local/modules/chanserv/set_mlock";
loadmodule "/usr/local/modules/chanserv/set_prefix";
loadmodule "/usr/local/modules/chanserv/set_private";
loadmodule "/usr/local/modules/chanserv/set_property";
loadmodule "/usr/local/modules/chanserv/set_pubacl";
loadmodule "/usr/local/modules/chanserv/set_restricted";
loadmodule "/usr/local/modules/chanserv/set_secure";
loadmodule "/usr/local/modules/chanserv/set_topiclock";
loadmodule "/usr/local/modules/chanserv/set_url";
loadmodule "/usr/local/modules/chanserv/set_verbose";
loadmodule "/usr/local/modules/chanserv/status";
loadmodule "/usr/local/modules/chanserv/sync";
loadmodule "/usr/local/modules/chanserv/successor_acl";
loadmodule "/usr/local/modules/chanserv/taxonomy";
loadmodule "/usr/local/modules/chanserv/template";
loadmodule "/usr/local/modules/chanserv/topic";
loadmodule "/usr/local/modules/chanserv/voice";
loadmodule "/usr/local/modules/chanserv/why";
loadmodule "/usr/local/modules/chanserv/xop";
loadmodule "/usr/local/modules/chanserv/antiflood";
loadmodule "/usr/local/modules/chanfix/main";
loadmodule "/usr/local/modules/operserv/akill";
loadmodule "/usr/local/modules/operserv/clearchan";
loadmodule "/usr/local/modules/operserv/clones";
loadmodule "/usr/local/modules/operserv/compare";
loadmodule "/usr/local/modules/operserv/genhash";
loadmodule "/usr/local/modules/operserv/greplog";
loadmodule "/usr/local/modules/operserv/help";
loadmodule "/usr/local/modules/operserv/identify";
loadmodule "/usr/local/modules/operserv/ignore";
loadmodule "/usr/local/modules/operserv/info";
loadmodule "/usr/local/modules/operserv/joinrate";
loadmodule "/usr/local/modules/operserv/jupe";
loadmodule "/usr/local/modules/operserv/mode";
loadmodule "/usr/local/modules/operserv/modlist";
loadmodule "/usr/local/modules/operserv/modmanager";
loadmodule "/usr/local/modules/operserv/noop";
loadmodule "/usr/local/modules/operserv/rakill";
loadmodule "/usr/local/modules/operserv/readonly";
loadmodule "/usr/local/modules/operserv/rehash";
loadmodule "/usr/local/modules/operserv/restart";
loadmodule "/usr/local/modules/operserv/rmatch";
loadmodule "/usr/local/modules/operserv/rnc";
loadmodule "/usr/local/modules/operserv/rwatch";
loadmodule "/usr/local/modules/operserv/set";
# loadmodule "/usr/local/modules/operserv/sgline";
loadmodule "/usr/local/modules/operserv/shutdown";
loadmodule "/usr/local/modules/operserv/soper";
loadmodule "/usr/local/modules/operserv/specs";
loadmodule "/usr/local/modules/operserv/sqline";
loadmodule "/usr/local/modules/operserv/update";
loadmodule "/usr/local/modules/operserv/uptime";
loadmodule "/usr/local/modules/memoserv/help";
loadmodule "/usr/local/modules/memoserv/send";
loadmodule "/usr/local/modules/memoserv/sendops";
loadmodule "/usr/local/modules/memoserv/sendgroup";
loadmodule "/usr/local/modules/memoserv/list";
loadmodule "/usr/local/modules/memoserv/read";
loadmodule "/usr/local/modules/memoserv/forward";
loadmodule "/usr/local/modules/memoserv/delete";
loadmodule "/usr/local/modules/memoserv/ignore";
loadmodule "/usr/local/modules/global/main";
loadmodule "/usr/local/modules/infoserv/main";
loadmodule "/usr/local/modules/saslserv/authcookie";
loadmodule "/usr/local/modules/saslserv/ecdh-x25519-challenge";
loadmodule "/usr/local/modules/saslserv/ecdsa-nist256p-challenge";
loadmodule "/usr/local/modules/saslserv/external";
loadmodule "/usr/local/modules/saslserv/plain";
# loadmodule "/usr/local/modules/saslserv/scram";   
loadmodule "/usr/local/modules/gameserv/dice";
loadmodule "/usr/local/modules/gameserv/eightball";
loadmodule "/usr/local/modules/gameserv/gamecalc";
loadmodule "/usr/local/modules/gameserv/help";
loadmodule "/usr/local/modules/gameserv/lottery";
loadmodule "/usr/local/modules/gameserv/namegen";
loadmodule "/usr/local/modules/gameserv/rps";
loadmodule "/usr/local/modules/rpgserv/enable";
loadmodule "/usr/local/modules/rpgserv/help";
loadmodule "/usr/local/modules/rpgserv/info";
loadmodule "/usr/local/modules/rpgserv/list";
loadmodule "/usr/local/modules/rpgserv/search";
loadmodule "/usr/local/modules/rpgserv/set";
loadmodule "/usr/local/modules/botserv/main";
loadmodule "/usr/local/modules/botserv/help";
loadmodule "/usr/local/modules/botserv/info";
loadmodule "/usr/local/modules/botserv/bottalk";
loadmodule "/usr/local/modules/botserv/set_fantasy";
loadmodule "/usr/local/modules/botserv/set_nobot";
loadmodule "/usr/local/modules/botserv/set_private";
loadmodule "/usr/local/modules/botserv/set_saycaller";
loadmodule "/usr/local/modules/hostserv/help";
loadmodule "/usr/local/modules/hostserv/onoff";
loadmodule "/usr/local/modules/hostserv/offer";
loadmodule "/usr/local/modules/hostserv/request";
loadmodule "/usr/local/modules/hostserv/vhost";
loadmodule "/usr/local/modules/hostserv/vhostnick";
loadmodule "/usr/local/modules/hostserv/group";
loadmodule "/usr/local/modules/hostserv/drop";
loadmodule "/usr/local/modules/helpserv/helpme";
loadmodule "/usr/local/modules/helpserv/ticket";
loadmodule "/usr/local/modules/helpserv/services";
loadmodule "/usr/local/modules/alis/main";
loadmodule "/usr/local/modules/statserv/channel";
loadmodule "/usr/local/modules/statserv/netsplit";
loadmodule "/usr/local/modules/statserv/server";
loadmodule "/usr/local/modules/groupserv/main";
loadmodule "/usr/local/modules/groupserv/acsnolimit";
loadmodule "/usr/local/modules/groupserv/drop";
loadmodule "/usr/local/modules/groupserv/fflags";
loadmodule "/usr/local/modules/groupserv/flags";
loadmodule "/usr/local/modules/groupserv/help";
loadmodule "/usr/local/modules/groupserv/info";
loadmodule "/usr/local/modules/groupserv/join";
loadmodule "/usr/local/modules/groupserv/list";
loadmodule "/usr/local/modules/groupserv/listchans";
loadmodule "/usr/local/modules/groupserv/register";
loadmodule "/usr/local/modules/groupserv/regnolimit";
loadmodule "/usr/local/modules/groupserv/invite";
loadmodule "/usr/local/modules/groupserv/set";
loadmodule "/usr/local/modules/groupserv/set_channel";
loadmodule "/usr/local/modules/groupserv/set_description";
loadmodule "/usr/local/modules/groupserv/set_email";
loadmodule "/usr/local/modules/groupserv/set_groupname";
loadmodule "/usr/local/modules/groupserv/set_joinflags";
loadmodule "/usr/local/modules/groupserv/set_open";
loadmodule "/usr/local/modules/groupserv/set_public";
loadmodule "/usr/local/modules/groupserv/set_url";
loadmodule "/usr/local/modules/misc/httpd";
loadmodule "/usr/local/modules/misc/login_throttling";
loadmodule "/usr/local/modules/transport/xmlrpc";
loadmodule "/usr/local/modules/exttarget/oper";
loadmodule "/usr/local/modules/exttarget/registered";
loadmodule "/usr/local/modules/exttarget/channel";
loadmodule "/usr/local/modules/exttarget/chanacs";
loadmodule "/usr/local/modules/exttarget/server";
loadmodule "/usr/local/modules/proxyscan/dnsbl";
include "/usr/local/etc/include.conf";

crypto {
	# argon2_type = "argon2id";
	# argon2_memcost = 16;
	# argon2_timecost = 3;
	# argon2_threads = 1;
	# argon2_saltlen = 16;
	# argon2_hashlen = 64;
	# scrypt_memlimit = 14;
	# scrypt_opslimit = 524288;
	# pbkdf2v2_digest = "SHA2-512";
	# pbkdf2v2_rounds = 64000;
	# pbkdf2v2_saltlen = 32;
	# scram_mechanisms = "SCRAM-SHA-1,SCRAM-SHA-256,SCRAM-SHA-512";
	# bcrypt_cost = 7;
	# crypt3_sha2_256_rounds = 5000;
	# crypt3_sha2_512_rounds = 5000;
};

nickserv {
	nick = "NICKSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Nickname Services";
	# spam;
	# no_nick_ownership;
	maxnicks = 8;
	expire = 0;
	# enforce_expire = 14;
	enforce_delay = 32;
	enforce_prefix = "`";
	waitreg_time = 4;
	pwquality_warn_only;
	show_custom_metadata;
	shorthelp = "";
	listownmail_canon;
	bad_password_message;
};

chanserv {
	nick = "CHANSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Channel Services";
	aliases {
	};
	access {
	};
	reggroup = "!Services-Team";
	maxchans = 5;
	fantasy;
	hide_xop;
	hide_flags_akicks;
	hide_pubacl_akicks;
	templates {
		vop = "+AV";
		hop = "+AHehitrv";
		aop = "+AOehiortv";
		sop = "+AOaefhiorstv";
		founder = "+AFORaefhioqrstv";
		member = "+Ai";
		op = "+AOiortv";
	};
	deftemplates = "MEMBER=+Ai OP=+AOeiortv";
	changets;
	trigger = "!";
	expire = 30;
	maxchanacs = 0;
	maxfounders = 4;
	founder_flags = "AFORefiorstv";
	default_mlock = "+nt";
	akick_time = 10;
	antiflood_enforce_method = quiet;
	show_custom_metadata;
	shorthelp = "";
};

chanfix {
	nick = "CHANFIX";
	user = "_";
	host = "services/SuperNETs";
	real = "Channel Fixing Service";
	aliases {
	};
	access {
	};
	autofix;
};

global {
	nick = "GLOBAL";
	user = "_";
	host = "services/SuperNETs";
	real = "Network Announcements";
	aliases {
	};
	access {
	};
};

infoserv {
	nick = "INFOSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Information Service";
	aliases {
	};
	access {
	};
	logoninfo_count = 3;
	logoninfo_reverse;
	logoninfo_show_metadata;
};

operserv {
	nick = "OPERSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Operator Services";
	aliases {
	};
	access {
	};
	modinspect_use_colors;
};

saslserv {
	nick = "SASLSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "SASL Authentication Agent";
	hide_server_names;
};

memoserv {
	nick = "MEMOSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Memo Services";
	aliases {
	};
	access {
	};
	maxmemos = 64;
};

gameserv {
	nick = "GAMESERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Game Services";
	aliases {
	};
	access {
	};
};

rpgserv {
	nick = "RPGSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "RPG Finding Services";
	aliases {
	};
	access {
	};
};

botserv {
	nick = "BOTSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Bot Services";
	aliases {
	};
	access {
	};
	min_users = 0;
};

groupserv {
	nick = "GROUPSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Group Management Services";
	aliases {
	};
	access {
	};
	maxgroups = 16;
	maxgroupacs = 256;
	enable_open_groups;
	join_flags = "+";
};

hostserv {
	nick = "HOSTSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Host Management Services";
	aliases {
		"APPROVE" = "ACTIVATE";
		"DENY" = "REJECT";
	};
	access {
	};
	reggroup = "!Services-Team";
	no_subsequent_requests;
	request_per_nick;
};

helpserv {
	nick = "HELPSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Help Services";
	aliases {
	};
	access {
	};
};

statserv {
	nick = "STATSERV";
	user = "_";
	host = "services/SuperNETs";
	real = "Statistics Services";
	aliases {
	};
	access {
	};
};

alis {
	nick = "ALIS";
	user = "_";
	host = "services/SuperNETs";
	real = "Channel Directory";
	aliases {
	};
	access {
	};
	maxmatches = 128;
};

proxyscan {
	nick = "PROXYSCAN";
	user = "_";
	host = "services/SuperNETs";
	real = "Proxyscan Service";
	aliases {
	};
	access {
	};
	blacklists {
		"dnsbl.dronebl.org";
		"rbl.efnetrbl.org";
		"tor.efnet.org";
	};
	dnsbl_action = snoop;
};

httpd {
	host = "127.0.0.1";
	# host = "::";
	www_root = "/var/www";
	port = 8080;
};

throttle {
	address_burst = 5;
	address_replenish = 1;
	address_account_burst = 2;
	address_account_replenish = 2;
};

logfile "/var/log/atheme/account.log" { register; set; };
logfile "/var/log/atheme/commands.log" { commands; };
logfile "/var/log/atheme/audit.log" { denycmd; };
logfile "#services" { admin; denycmd; error; info; register; request; };
logfile "!snotices" { denycmd; error; info; request; };

operclass "user" { };

operclass "ircop" {
	privs {
		special:ircop;
	};
	privs {
		user:auspex;
		user:admin;
		user:sendpass;
		user:vhost;
		user:mark;
	};
	privs {
		chan:auspex;
		chan:admin;
		chan:cmodes;
		chan:joinstaffonly;
	};
	privs {
		general:auspex;
		general:helper;
		general:viewprivs;
		general:flood;
	};
	privs {
		operserv:omode;
		operserv:akill;
		operserv:jupe;
		operserv:global;
	};
	privs {
		group:auspex;
		group:admin;
	};
};

operclass "sra" {
	extends "ircop";
	privs {
		user:exceedlimits;
		user:hold;
		user:regnolimit;
	};
	privs {
		general:metadata;
		general:admin;
	};
	privs {
		# operserv:massakill;
		# operserv:akill-anymask;
		operserv:noop;
		operserv:grant;
	};
	# needoper;
};
